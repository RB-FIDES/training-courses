# –£–ö–†–ê–á–ù–°–¨–ö–Ü –§–†–ê–ó–ò –î–õ–Ø SWIRL
# UKRAINIAN PHRASES FOR SWIRL

# –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º - –Ω–µ –≤–∏–≤–æ–¥–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
.quiet_mode <- tryCatch({
  exists(".quiet_mode", envir = .GlobalEnv) && get(".quiet_mode", envir = .GlobalEnv)
}, error = function(e) FALSE)

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ swirl
if (!"swirl" %in% loadedNamespaces()) {
  if (!.quiet_mode) {
    cat("‚ùå –ü–∞–∫–µ—Ç swirl –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ...\n")
  }
  suppressPackageStartupMessages(library(swirl))
}

# –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ñ—Ä–∞–∑–∏ –ø–æ—Ö–≤–∞–ª–∏
praise_ua <- function() {
  swirl_is_fun <- getOption("swirl_is_fun")
  
  if(is.null(swirl_is_fun) || isTRUE(swirl_is_fun)) {
    phrases <- c(
      # –í–∞—à—ñ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Ñ—Ä–∞–∑–∏
      "–ß—É–¥–æ–≤–æ!",
      "–í—ñ–¥–º—ñ–Ω–Ω–æ!",
      "–ü—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Ä–æ–±–æ—Ç–∞!",
      "–°—É–ø–µ—Ä!",
      "–ë–ª–∏—Å–∫—É—á–µ!",
      "–¢–∞–∫ —Ç—Ä–∏–º–∞—Ç–∏!",
      "–í–∏ –º–æ–ª–æ–¥–µ—Ü—å!",
      "–Ü–¥–µ–∞–ª—å–Ω–æ!",
      "–§–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–æ!",
      "–í—Ä–∞–∂–∞—é—á–µ!",
      # –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—Ä–∞–∑–∏ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É swirl
      "–í–∏ –∑—Ä–æ–∑—É–º—ñ–ª–∏!",
      "–ì–∞—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞!",
      "–ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ –≤ —Ç–æ–º—É –∂ –¥—É—Å—ñ!",
      "–í–∏ —Ç–∞–∫ –¥–æ–±—Ä–µ –ø—Ä–∞—Ü—é—î—Ç–µ!",
      "–í—Å—è —Ü—è –≤–∞–∂–∫–∞ —Ä–æ–±–æ—Ç–∞ –æ–∫—É–ø–∞—î—Ç—å—Å—è!",
      "–í–∏ –≤–ø–æ—Ä–∞–ª–∏—Å—å! –•–æ—Ä–æ—à–∞ —Ä–æ–±–æ—Ç–∞!",
      "–í–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π!",
      "–í–∏ –¥–∏–≤–æ–≤–∏–∂–Ω—ñ!",
      "–ü—Ä–æ–¥–æ–≤–∂—É–π —Ç–∞–∫ —Å–∞–º–æ –¥–æ–±—Ä–µ!",
      "–¢–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —à–ª—è—Ö—É!",
      "–¢–≤–æ—è –≤—ñ–¥–¥–∞–Ω—ñ—Å—Ç—å –Ω–∞–¥–∏—Ö–∞—î!",
      "–¢–∏ —Å–ø—Ä–∞–≤–¥—ñ –º–æ–ª–æ–¥–µ—Ü—å, –ø–æ–¥—Ä—É–≥–æ!",
      "–ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Ç–∞–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ –≤–∏ –¥–æ—Å—è–≥–Ω–µ—Ç–µ –º–µ—Ç–∏!",
      "–ù–∞–ø–æ–ª–µ–≥–ª–∏–≤—ñ—Å—Ç—å - —Ü–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å.",
      "–ß—É–¥–æ–≤–∞ —Ä–æ–±–æ—Ç–∞!",
      "–í–∏ –¥—É–∂–µ –¥–æ–±—Ä–∏–π –º—ñ–π –¥—Ä—É–∂–µ!",
      "–í–∞—à–∞ –≤—ñ–¥–¥–∞–Ω—ñ—Å—Ç—å –Ω–∞–¥–∏—Ö–∞—î!",
      "–í–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑—Ä–æ–∑—É–º—ñ–ª–∏!",
      "–¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!",
      "–í–∏ —Å–ø—Ä–∞–≤–¥—ñ –Ω–∞ –ø—ñ–¥–π–æ–º—ñ!",
      "–í—ñ–¥–º—ñ–Ω–Ω–∞ —Ä–æ–±–æ—Ç–∞!",
      "–í—Å—è —Ü—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –æ–∫—É–ø–∞—î—Ç—å—Å—è!",
      "–¶–µ –¥–æ–±—Ä–µ –≤–∏–∫–æ–Ω–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è!",
      "–¶–µ —Å–∞–º–µ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å, —è–∫—É —è —à—É–∫–∞–≤."
    )
  } else {
    phrases <- "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
  }
  sample(phrases, 1)
}

# –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ñ—Ä–∞–∑–∏ "—Å–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑"
tryAgain_ua <- function() {
  swirl_is_fun <- getOption("swirl_is_fun")
  
  if(is.null(swirl_is_fun) || isTRUE(swirl_is_fun)) {
    phrases <- c(
      # –í–∞—à—ñ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Ñ—Ä–∞–∑–∏
      "–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ù–µ –∑–æ–≤—Å—ñ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–Ω–æ–≤—É.",
      "–ú–∞–π–∂–µ! –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ù–µ –∑–æ–≤—Å—ñ–º —Ç–∞–∫. –î–∞–≤–∞–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑, –±—É–¥—å –ª–∞—Å–∫–∞.",
      "–ù–µ –≤–∏–π—à–ª–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–Ω–æ–≤—É.",
      "–©–µ –æ–¥–Ω–∞ —Å–ø—Ä–æ–±–∞!",
      "–î–∞–≤–∞–π—Ç–µ —â–µ —Ä–∞–∑!",
      # –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—Ä–∞–∑–∏ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É swirl
      "–í–∏ –º–∞–π–∂–µ –≤–ø–æ—Ä–∞–ª–∏—Å—å, –∞–ª–µ –Ω–µ –∑–æ–≤—Å—ñ–º. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–î–∞–π—Ç–µ —â–µ –æ–¥–Ω—É —Å–ø—Ä–æ–±—É.",
      "–ù–µ –∑–æ–≤—Å—ñ–º! –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ù–µ —Ç–æ—á–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–¶–µ –Ω–µ –∑–æ–≤—Å—ñ–º —Ç–µ, —â–æ —è —à—É–∫–∞—é. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ì–∞—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞, –∞–ª–µ —Ü–µ –Ω–µ –∑–æ–≤—Å—ñ–º —Ç–µ, –Ω–∞ —â–æ —è —Å–ø–æ–¥—ñ–≤–∞–≤—Å—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏!",
      "–¶–µ –Ω–µ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å, —è–∫—É —è —à—É–∫–∞–≤, –∞–ª–µ —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–ù–µ –∑–æ–≤—Å—ñ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞–ª–µ –ø—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏.",
      "–í–∏ –±–ª–∏–∑—å–∫–æ... –Ø —Ü–µ –≤—ñ–¥—á—É–≤–∞—é! –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–©–µ —Ä–∞–∑. –í–∏ –º–æ–∂–µ—Ç–µ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏!",
      "–ù–µ –∑–æ–≤—Å—ñ–º, –∞–ª–µ –≤–∏ –≤—á–∏—Ç–µ—Å—å! –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
      "–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –ø–µ—Ä—à–æ–≥–æ —Ä–∞–∑—É –≤—Å–µ –æ–¥–Ω–æ –Ω—É–¥–Ω–æ!"
    )
  } else {
    phrases <- "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑."
  }
  sample(phrases, 1)
}

# –§—É–Ω–∫—Ü—ñ—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ñ—Ä–∞–∑
ukrainian_phrases_activate <- function(quiet = .quiet_mode) {
  if (!"swirl" %in% loadedNamespaces()) {
    if (!quiet) cat("‚ùå –ü–∞–∫–µ—Ç swirl –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π!\n")
    return(invisible(FALSE))
  }
  
  # –ó–∞–º—ñ–Ω–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ namespace swirl
  tryCatch({
    unlockBinding("praise", asNamespace("swirl"))
    assign("praise", praise_ua, envir = asNamespace("swirl"))
    lockBinding("praise", asNamespace("swirl"))
    
    unlockBinding("tryAgain", asNamespace("swirl"))  
    assign("tryAgain", tryAgain_ua, envir = asNamespace("swirl"))
    lockBinding("tryAgain", asNamespace("swirl"))
    
    if (!quiet) {
      cat("‚úì –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ñ—Ä–∞–∑–∏ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!\n")
      cat("‚úì Ukrainian phrases activated!\n")
      cat("  –¢–µ–ø–µ—Ä swirl –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É.\n")
      cat("  Now swirl will use Ukrainian progress messages.\n")
    }
    
    return(invisible(TRUE))
  }, error = function(e) {
    if (!quiet) cat("‚ùå –ü–æ–º–∏–ª–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó:", e$message, "\n")
    return(invisible(FALSE))
  })
}

# –§—É–Ω–∫—Ü—ñ—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
test_ukrainian_phrases <- function() {
  cat("üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ñ—Ä–∞–∑:\n")
  cat("üìã –§—Ä–∞–∑–∏ –ø–æ—Ö–≤–∞–ª–∏:\n")
  for(i in 1:3) {
    cat("  ‚úì", praise_ua(), "\n")
  }
  cat("üìã –§—Ä–∞–∑–∏ '—Å–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑':\n")
  for(i in 1:3) {
    cat("  ‚Üª", tryAgain_ua(), "\n")
  }
}

if (exists(".quiet_mode") && .quiet_mode) {
  tryCatch({
    # –û—á–∏—Å—Ç–∏—Ç–∏ –º–æ–∂–ª–∏–≤—ñ –∫–µ—à–æ–≤–∞–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏
    if (exists(".Last.readline")) rm(.Last.readline, envir = .GlobalEnv)
  }, error = function(e) {
    # Ignore
  })
}